# Диаграмма вариантов использования

![Диаграмма вариантов использования](./imgs/use-case.png)

# Глоссарий

| Термин | Определение |
|--|--|
| Пользователь | Человек, использующий веб-приложение |
| Зарегистрированный пользователь | Пользователь, ранее зарегистрировавшийся в веб-приложении |
| Посетитель | Пользователь, использующий веб-приложение без авторизации |  
| Библиотека игр | Список игр, находящихся в личной коллекции зарегистрированного пользователя |

# Поток событий 

# Содержание
1 [Актеры](#1-актеры)  
2 [Варианты использования](#2-варианты-использования)  
 2.1 [Авторизоваться](#21-авторизоваться)  
 2.2 [Зарегистрироваться](#22-зарегистрироваться)  
 2.3 [Найти игру](#23-найти-игру)  
 2.4 [Добавить игру в библиотеку](#24-добавить-игру-в-библиотеку)  
 2.5 [Удалить игру из библиотеки](#25-удалить-игру-из-библиотеки)  
 2.6 [Оценить игру](#26-оценить-игру)  
 2.7 [Посмотреть библиотеку игр](#27-посмотреть-библиотеку-игр)  
 2.8 [Добавить информацию об учетной записи](#28-добавить-информацию-об-учетной-записи)  
 2.9 [Сменить аватар](#29-сменить-аватар)  
 2.10 [Изменить пароль](#210-изменить-пароль)  
 2.11 [Изменить электронную почту](#211-изменить-электронную-почту)  
 2.12 [Удалить учетную запись](#212-удалить-учетную-запись)  
 2.13 [Выйти из учетной записи](#213-выйти-из-учетной-записи)  

# 1 Актеры

| Актер | Описание |
|--|--|
| Пользователь | Человек, использующий веб-приложение |
| Зарегистрированный пользователь | Пользователь, ранее зарегистрировавшийся в веб-приложении |
| Посетитель | Пользователь, использующий веб-приложение без авторизации |  
| [rawg.io](https://rawg.io) | Web-сайт, информация с которого используется приложением |

# 2 Варианты использования

## 2.1 Авторизоваться

**Описание** Вариант использования "Авторизоваться" позволяет пользователю войти в учетную запись.  
**Предусловия.** Пользователь выбрал способ "LOG IN" для входа в приложение.  
**Основной поток.**
1. Приложение отображает окно входа в учетную запись;
2. Пользователь вводит свой логин и пароль;
3. Приложение проверяет корректность введенных логина и пароля. Если что-либо некорректно, то выполняется поток ошибки Е1;
4. Приложение авторизирует пользователя;
5. Приложение скрывает окно входа в учетную запись;
6. Вариант использования завершается.

**Дополнительная информация.** В окне входа в учетную запись присутствует кнопка "Don’t have an account? Sign up!". При ее нажатии активируется вариант использования "Зарегистрироваться".

**Поток ошибки Е1.**
1. Приложение сообщает пользователю о некорректности введенных данных;
2. Приложение возвращается к п.2 основного потока.

## 2.2 Зарегистрироваться

**Описание.** Вариант использования "Зарегистрироваться" позволяет пользователю создать новую учетную запись в приложении.  
**Предусловия.** Пользователь или посетитель выбрал способ "SIGN UP" для регистрации в приложение.  
**Основной поток.**
1. Приложение отображает окно регистрации, в котором запрашивает у пользователя ввод электронной почты, имени и пароля;
2. Пользователь вводит электронную почту, имя и пароль;
3. Приложение проверяет введенный адрес эл. почты на совпадение с адресами уже зарегистрированных пользователей. Если совпадение выявлено, выполняется альтернативный поток А1;
4. Приложение сохраняет пользователя в базу данных;
5. Приложение скрывает окно регистрации;
6. Вариант использования завершается.

**Дополнительная информация.** В окне регистрации присутствует кнопка "Already have an account? Log in!". При ее нажатии активируется вариант использования "Авторизоваться".

**Альтернативный поток А1.**
1. Приложение сообщает пользователю, что пользователь с таким адресом эл. почты уже существует;
2. Приложение запрашивает у пользователя ввод другого адреса эл. почты;
3. Возврат к п.2 основного потока.

## 2.3 Найти игру

**Описание.** Вариант использования "Найти игру" позволяет найти информацию о введенной игре.  
**Предусловия.** Пользователь ввел в строке поиска название игры.  
**Основной поток.**
1. Приложение получает название игры;
2. Приложение получает информацию с сайта [rawg.io](https://rawg.io);
3. Приложение отображает результаты совпадения с веденными текстом;
4. Вариант использования завершается.

## 2.4 Добавить игру в библиотеку

**Описание.** Вариант использования "Добавить игру в библиотеку" позволяет зарегистрированному пользователю добавить игру в свою библиотеку.  
**Предусловия.** Зарегистрированный пользователь нажал на кнопку с плюсом.  
**Основной поток.**
1. Пользователь нажимает на кнопку с плюсом рядом с игрой;
2. Приложение добавляет игру в библиотеку пользователя;
3. Вариант использования завершается.

## 2.5 Удалить игру из библиотеки

**Описание.** Вариант использования "Удалить игру из библиотеки" позволяет зарегистрированному пользователю удалить добавленную игру из своей библиотеки.  
**Предусловия.** Зарегистрированный пользователь имеет удаляемую игру в своей библиотеке.  
**Основной поток.**
1. Пользователь нажимает на кнопку с галочкой рядом с игрой;
2. Приложение удаляет игру из библиотеки пользователя;
3. Вариант использования завершается.

## 2.6 Оценить игру

**Описание.** Вариант использования "Оценить игру" позволяет зарегистрированному пользователю оценить игру.  
**Предусловия.** Пользователь должен быть зарегистрирован.  
**Основной поток.**
1. Пользователь нажимает на кнопку с пальцем вверх или с пальцем вниз рядом с игрой;
2. Приложение сохраняет информацию об оценке игры пользователя. В случае отсутствия оцененной игры в библиотеке пользователя, выполняется альтернативный поток А2;
3. Вариант использования завершается.

**Альтернативный поток А2.**
1. Приложение автоматически добавляет оцененную игру в библиотеку пользователя;
2. Вариант использования завершается.

## 2.7 Посмотреть библиотеку игр

**Описание.** Вариант использования "Посмотреть библиотеку игр" позволяет зарегистрированному пользователю посмотреть свою библиотеку игр.  
**Предусловия.** Пользователь должен быть зарегистрирован.  
**Основной поток.**
1. Пользователь нажимает на свой аватар или на кнопку "My library";
2. Приложение открывает окно с библиотекой игр пользователя;
3. Вариант использования завершается.

## 2.8 Добавить информацию об учетной записи

**Описание.** Вариант использования "Добавить информацию об учетной записи" позволяет зарегистрированному пользователю добавить информацию о себе.  
**Предусловия.** Пользователь должен быть зарегистрирован.  
**Основной поток.**
1. Пользователь нажимает на кнопку "Settings";
2. Приложение открывает окно с настройками;
3. Пользователь вводит свои имя, псевдоним и биографию;
4. Пользователь нажимает кнопку "Save";
5. Приложение сохраняет изменения;
6. Вариант использования завершается.

## 2.9 Сменить аватар
**Описание.** Вариант использования "Сменить аватар" позволяет зарегистрированному пользователю изменить свой аватар.  
**Предусловия.** Пользователь должен быть зарегистрирован.  
**Основной поток.**
1. Пользователь нажимает на кнопку "Settings";
2. Приложение открывает окно с настройками;
3. Пользователь нажимает кнопку "Upload" рядом со своим аватаром;
4. Приложение проверяет допустимый размер изображения и его разрешение. Если выходит за рамки, выполняется поток ошибки E2;
5. Пользователь нажимает кнопку "Save";
6. Приложение сохраняет изменения;
7. Вариант использования завершается.

**Поток ошибки Е2.**
1. Приложение сообщает пользователю о недопустимом изображении;
2. Вариант использования завершается досрочно.

## 2.10 Изменить пароль

**Описание.** Вариант использования "Изменить пароль" позволяет зарегистрированному пользователю изменить свой пароль.  
**Предусловия.** Пользователь должен быть зарегистрирован.  
**Основной поток.**
1. Пользователь нажимает на кнопку "Settings";
2. Приложение открывает окно с настройками;
3. Пользователь нажимает на кнопку "Password";
4. Приложение открывает окно со сменой пароля;
5. Пользователь вводит старый и новый пароль;
6. Пользователь нажимает кнопку "Save";
7. Приложение проверяет корректность введенного старого пароля. Если он некорректен, выполняется поток ошибки Е3;
8. Приложение сохраняет изменения;
9. Вариант использования завершается.

**Поток ошибки Е3.**
1. Приложение сообщает пользователю о неверном пароле;
2. Приложение возвращается к п.5 основного потока.

## 2.11 Изменить электронную почту

**Описание.** Вариант использования "Изменить электронную почту" позволяет зарегистрированному пользователю изменить электронную почту.  
**Предусловия.** Пользователь должен быть зарегистрирован.  
**Основной поток.**
1. Пользователь нажимает на кнопку "Settings";
2. Приложение открывает окно с настройками;
3. Пользователь нажимает на кнопку "Email";
4. Приложение открывает окно со сменой эл. почты;
5. Пользователь вводит новый адрес эл. почты и подтверждает паролем;
6. Пользователь нажимает кнопку "Save";
7. Приложение проверяет корректность введенного адреса эл. почты и пароля. Если адрес эл. почты некорректен, выполняется поток ошибки Е4. Если пароль некорректен, выполняется поток ошибки Е5;
8. Приложение сохраняет изменения;
9. Вариант использования завершается.

**Поток ошибки Е4.**
1. Приложение сообщает пользователю, что указанный адрес эл. почты уже зарегистрирован;
2. Приложение возвращаются к п.5 основного потока.

**Поток ошибки Е5.**
1. Приложение сообщает пользователю о неверном пароле;
2. Приложение возвращается к п.5 основного потока.

## 2.12 Удалить учетную запись

**Описание.** Вариант использования "Удалить учетную запись" позволяет зарегистрированному пользователю удалить свою учетную запись.  
**Предусловия.** Пользователь должен быть зарегистрирован.  
**Основной поток.**
1. Пользователь нажимает на кнопку "Settings";
2. Приложение открывает окно с настройками;
3. Пользователь нажимает на кнопку "Delete your account";
4. Приложение открывает окно с подтверждением об удалении учетной записи;
5. Пользователь вводит свой пароль;
6. Пользователь нажимает кнопку "Delete account";
7. Приложение проверяет корректность введенного пароля. Если пароль некорректен, выполняется поток ошибки Е6;
8. Приложение удаляет учетную запись;
9. Вариант использования завершается.

**Дополнительная информация.** В окне удаления учетной записи присутствует кнопка "Cancel". При ее нажатии активируется альтернативный поток А3.

**Альтернативный поток А3.**
1. Приложение закрывает окно с подтверждением об удалении учетной записи;
2. Вариант использования завершается.

**Поток ошибки Е6.**
1. Приложение сообщает пользователю о неверном пароле;
2. Приложение возвращается к п.5 основного потока.

## 2.13 Выйти из учетной записи

**Описание.** Вариант использования "Выйти из учетной записи" позволяет зарегистрированному пользователю выйти из своей учетной записи.  
**Предусловия.** Пользователь должен быть зарегистрирован.  
**Основной поток.**
1. Пользователь нажимает на кнопку "Log out";
2. Приложение переключает пользователя на главную страницу сайта;
3. Вариант использования завершается.

